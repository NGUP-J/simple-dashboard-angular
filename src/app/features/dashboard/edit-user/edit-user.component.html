<!-- <button
  type="button"
  class="btn btn-primary"
  data-bs-toggle="modal"
  [attr.data-bs-target]="'#editModal' + id"
>
  Edit
</button> -->
<i
  class="bi bi-pencil"
  data-bs-toggle="modal"
  [attr.data-bs-target]="'#editModal' + id"
></i>

<div
  class="modal fade"
  id="editModal{{ id }}"
  tabindex="-1"
  aria-labelledby="editModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="editModalLabel{{ id }}">Edit User</h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <form #form="ngForm" (ngSubmit)="onFormSubmit()">
        <div class="modal-body">
          <div class="mb-3">
            <input
              type="text"
              disabled
              class="form-control"
              id="Id{{ id }}"
              name="Id"
              value="{{ user?.data?.id }}"
              placeholder="USER ID *"
            />
          </div>
          <div class="row">
            <div class="mb-3 col">
              <input
                type="text"
                class="form-control"
                id="firstName {{ id }}"
                name="firstName"
                [(ngModel)]="edit.firstName"
                placeholder="First Name *"
              />
            </div>
            <div class="mb-3 col">
              <input
                type="text"
                class="form-control"
                id="lastName {{ id }}"
                name="lastName"
                [(ngModel)]="edit.lastName"
                placeholder="Last Name *"
              />
            </div>
          </div>
          <div class="row">
            <div class="mb-3 col">
              <input
                type="text"
                class="form-control"
                id="email {{ id }}"
                name="email"
                value="{{ user?.data?.email }}"
                [(ngModel)]="edit.email"
                placeholder="EMAIL ID *"
              />
            </div>
            <div class="mb-3 col">
              <input
                type="text"
                class="form-control"
                id="phone {{ id }}"
                name="phone"
                value="{{ user?.data?.phone }}"
                [(ngModel)]="edit.phone"
                placeholder="Moblie NO"
              />
            </div>
            <div class="mb-3 col">
              <!-- <input
                type="text"
                class="form-control"
                id="roleId"
                name="roleId"
                [(ngModel)]="edit.roleId"
                placeholder="Select Role Type"
              /> -->
              <!-- <select
                class="form-control"
                id="roleId"
                name="roleId"
                [(ngModel)]="edit.roleId"
                
              >
                
                <option [ngValue]="1" [selected]="edit.roleId === '1'">Lorem Ipsum 1</option>
              </select> -->
              <!-- <select
                class="form-control"
                id="roleId"
                name="roleId"
                [(ngModel)]="edit.roleId"
              >
                <option [ngValue]="1" [selected]="edit.roleId === '1'">
                  Lorem Ipsum 1
                </option>
                <option [ngValue]="2" [selected]="edit.roleId === '1'">
                  Lorem Ipsum 2
                </option>
                <option [ngValue]="3" [selected]="edit.roleId === '1'">
                  Lorem Ipsum 3
                </option>
              </select> -->
              <select
                class="form-control"
                id="roleId"
                name="roleId"
                [(ngModel)]="edit.roleId"
              >
                <option
                  *ngFor="let option of roleOptions"
                  [ngValue]="option.value"
                  [selected]="edit.roleId === option.value"
                >
                  {{ option.label }}
                </option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="mb-3 col">
              <input
                type="text"
                class="form-control"
                id="username {{ id }}"
                name="username"
                [(ngModel)]="edit.username"
                placeholder="Username *"
              />
            </div>
            <div class="mb-3 col">
              <input
                type="text"
                class="form-control"
                id="password {{ id }}"
                name="password"
                [(ngModel)]="edit.password"
                placeholder="Password*"
              />
            </div>
            <div class="mb-3 col">
              <input
                type="text"
                class="form-control"
                id="ComfrimPassword {{ id }}"
                name="ComfrimPassword"
                placeholder="Comfrim Password*"
              />
            </div>
          </div>
        </div>
        <table class="table text-start">
          <thead class="table-secondary">
            <tr>
              <th>Module Permission</th>
              <th>Read</th>
              <th>Write</th>
              <th>Delete</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let permission of edit.permissions; let i = index">
              <!-- <td>{{ permission.permissionId }}</td> -->

              <td>{{ permissionlist[+permission.permissionId] }}</td>
              <td>
                <input
                  type="checkbox"
                  [id]="'Read' + i"
                  name="Read{{ i }}"
                  [ngModel]="permission.isReadable"
                  (ngModelChange)="permission.isReadable = $event"
                  [ngModelOptions]="{ standalone: true }"
                />
              </td>
              <td>
                <input
                  type="checkbox"
                  [id]="'Write' + i"
                  name="Write{{ i }}"
                  [ngModel]="permission.isWritable"
                  (ngModelChange)="permission.isWritable = $event"
                  [ngModelOptions]="{ standalone: true }"
                />
              </td>
              <td>
                <input
                  type="checkbox"
                  [id]="'Delete' + i"
                  name="Delete{{ i }}"
                  [ngModel]="permission.isDeletable"
                  (ngModelChange)="permission.isDeletable = $event"
                  [ngModelOptions]="{ standalone: true }"
                />
              </td>
            </tr>
          </tbody>
        </table>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">
            Edit user
          </button>
          <button
            type="button"
            class="btn"
            data-bs-dismiss="modal"
            style="color: #8f9bb3"
          >
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
